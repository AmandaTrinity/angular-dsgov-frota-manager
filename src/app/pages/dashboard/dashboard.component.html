<div class="container-lg">
  <div class="row kpi-row">
    <div class="col-sm-4">
      <app-kpi-card
        title="Preço Médio"
        [value]="(precoMedioGasolina$ | async | currency: 'BRL') ?? 'R$ 0,00'"
        subtitle="Gasolina (Dez/2024)"
        icon="fa-solid fa-gas-pump"
        >
      </app-kpi-card>
    </div>
    <div class="col-sm-4">
      <app-kpi-card
        title="Preço Médio"
        [value]="(precoMedioDiesel$ | async | currency: 'BRL') ?? 'R$ 0,00'"
        subtitle="Diesel (Dez/2024)"
        icon="fa-solid fa-truck"
        >
      </app-kpi-card>
    </div>
    <div class="col-sm-4">
      <app-kpi-card
        title="Total de Litros"
        [value]="(totalLitros$ | async) ?? 0"
        subtitle="Últimos 30 dias"
        icon="fa-solid fa-fill-drip"
        >
      </app-kpi-card>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6 mb-4">
      <div class="chart-card">
        <h3 class="h3">Evolução de Preços (Últimos 6 meses)</h3>
        @if (lineChartOptions$ | async; as options) {
          <div>
            <apx-chart
              [series]="options.series"
              [chart]="options.chart"
              [xaxis]="options.xaxis"
              [colors]="options.colors"
              [stroke]="options.stroke"
              [markers]="options.markers"
              [legend]="options.legend"
              [tooltip]="options.tooltip"
              [states]="options.states"
              >
            </apx-chart>
          </div>
        }
      </div>
    </div>

    <div class="col-lg-6 mb-4">
      <div class="chart-card">
        <h3 class="h3">Consumo por Estado (Top 10)</h3>
        @if (barChartOptions$ | async; as options) {
          <div>
            <apx-chart
              [series]="options.series"
              [chart]="options.chart"
              [xaxis]="options.xaxis"
              [colors]="options.colors"
              [tooltip]="options.tooltip"
              >
            </apx-chart>
          </div>
        }
      </div>
    </div>
  </div>
</div>
